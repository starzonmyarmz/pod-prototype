#ship-health {
  display: grid;
  gap: var(--space-3);
  grid-template-columns: 1fr;
  grid-template-rows: auto auto;
  grid-template-areas:
    "status"
    "vitals";
}

#ship-health.inactive {
  opacity: 0.5;
  pointer-events: none;
}

#ship-health.inactive .vital-bar-fill {
  box-shadow: none;
  animation: none;
}

#ship-status {
  font-size: var(--space-5);
  grid-area: status;

  output {
    font-weight: bold;
  }

  .nominal {
    color: var(--ok);
  }

  .shields-low {
    color: var(--warn);
  }

  .warning {
    color: var(--warn);
    animation: pulse-warn 2s infinite;
  }

  .critical {
    color: var(--alarm);
    animation: pulse-alarm 1s infinite;
  }

  .inactive {
    color: var(--muted);
  }
}

#ship-vitals {
  grid-area: vitals;
}

.vital-readout {
  display: grid;
  grid-template-columns: 180px 1fr;
  grid-template-rows: auto auto;
  gap: var(--space-2);
  align-items: center;
  padding: var(--space-2);
  background: var(--bezel);
  border: 1px solid var(--bevel);
}

.vital-label {
  font-size: var(--text-sm);
  color: var(--muted);
  grid-column: 1;
  grid-row: 1;
}

.vital-value {
  font-size: var(--space-5);
  font-weight: bold;
  font-variant-numeric: tabular-nums;
  grid-column: 2;
  grid-row: 1 / 3;
  text-align: right;
  padding-right: var(--space-2);

  &.nominal {
    color: var(--ok);
  }

  &.caution {
    color: var(--crt);
  }

  &.warning {
    color: var(--warn);
  }

  &.critical {
    color: var(--alarm);
    animation: pulse-alarm 1s infinite;
  }

  &.inactive {
    color: var(--muted);
  }
}

.vital-number {
  font-size: var(--space-6);
}

.vital-unit {
  font-size: var(--text-sm);
  color: var(--muted);
  margin-left: var(--space-1);
}

.vital-inactive {
  color: var(--muted);
  font-size: var(--space-6);
}

.vital-bar {
  grid-column: 1;
  grid-row: 2;
  height: var(--space-2);
  background: var(--black-50);
  border: 1px solid var(--bevel);
  overflow: hidden;
}

.vital-bar-fill {
  height: 100%;
  transition: width 0.3s ease-out, background-color 0.3s ease-out;

  &.nominal {
    background: var(--ok);
    box-shadow: 0 0 var(--space-2) var(--ok);
  }

  &.caution {
    background: var(--crt);
    box-shadow: 0 0 var(--space-2) var(--crt);
  }

  &.warning {
    background: var(--warn);
    box-shadow: 0 0 var(--space-2) var(--warn);
  }

  &.critical {
    background: var(--alarm);
    box-shadow: 0 0 var(--space-2) var(--alarm);
    animation: pulse-bar 1s infinite;
  }

  &.inactive {
    background: var(--muted);
  }
}

@keyframes pulse-warn {
  0%,
  100% {
    opacity: 1;
  }
  50% {
    opacity: 0.7;
  }
}

@keyframes pulse-alarm {
  0%,
  100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

@keyframes pulse-bar {
  0%,
  100% {
    opacity: 1;
    filter: brightness(1);
  }
  50% {
    opacity: 0.6;
    filter: brightness(1.5);
  }
}
